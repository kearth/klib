<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# kunit

```go
import "github.com/kearth/klib/kunit"
```

## Index

- [type Fn](<#Fn>)
- [type Role](<#Role>)
- [type Unit](<#Unit>)
  - [func NewUnit\(name string, fn ...Fn\) Unit](<#NewUnit>)


<a name="Fn"></a>
## type [Fn](<https://github.com/kearth/klib/blob/master/kunit/unit.go#L31>)



```go
type Fn func(ctx kctx.Context, input ...any) (output any, err kerr.Error)
```

<a name="Role"></a>
## type [Role](<https://github.com/kearth/klib/blob/master/kunit/unit.go#L16>)



```go
type Role string
```

<a name="RoleFramework"></a>

```go
const (
    RoleFramework Role = "Framework"
    RoleComponent Role = "Component"
    RoleModule    Role = "Module"
    RoleRouter    Role = "Router"
    RoleServer    Role = "Server"
    RoleUnit      Role = "Unit"
    RolePlugin    Role = "Plugin"
    RoleUnknown   Role = "Unknown"

    NoName = "unknown"
)
```

<a name="Unit"></a>
## type [Unit](<https://github.com/kearth/klib/blob/master/kunit/unit.go#L34-L43>)

修正后

```go
type Unit interface {
    Cost() time.Duration
    Name() string
    Role() Role
    Call(ctx kctx.Context, input ...any) (any, kerr.Error)
    SetRole(role Role) Unit
    SetName(name string) Unit
    SetFn(fn Fn) Unit
    Setup(ctx kctx.Context) kerr.Error
}
```

<a name="NewUnit"></a>
### func [NewUnit](<https://github.com/kearth/klib/blob/master/kunit/unit.go#L117>)

```go
func NewUnit(name string, fn ...Fn) Unit
```

NewUnit 创建单元

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
